{"ts":1349383829121,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// server.js\r\n\r\nvar url = require('url'),\r\n    http = require('http');\r\n\r\nhttp.createServer(function (req, res) {\r\n\tconsole.log('Path: ' + url.parse(req.url).path);\r\n\tif (url.parse(req.url).pathname.toLowerCase() != '/jsonp') {\r\n\t\tres.writeHead(404);\r\n\t\tres.end();\r\n\t} else {\r\n\t\tres.writeHead(200, {'Content-Type': 'application/javascript'});\r\n\t\tvar options = url.parse(unescape(url.parse(req.url, true).query.url)); // parse url query string\r\n\r\n\r\n\t\tres.write(unescape(url.parse(req.url, true).query.callback) + '(' + JSON.stringify(options) + ','); // callback\r\n\r\n\t\thttp.get(options, function (getres) { //{host: options.host, path: options.path}\r\n\t\t\tres.write('\"' + getres.statusCode + '\",' + JSON.stringify(getres.headers) + ',\"');\r\n\t\t\tgetres.setEncoding('utf8');\r\n\t\t\tgetres.on('data', function (chunk) {\r\n\t\t\t\tres.write(escape(chunk));\r\n\t\t\t});\r\n\t\t\tgetres.on('end', function () {\r\n\t\t\t\tres.end('\");');\r\n\t\t\t});\r\n\t\t}).on('error', function (e) {\r\n\t\t\tconsole.log(\"Error in http.get: \" + e.message);\r\n\t\t});\r\n\t}\r\n\r\n}).listen(80);\r\nconsole.log('Server running.');\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1059}]],"length":1059}
{"contributors":[],"silentsave":false,"ts":1349404231836,"patch":[[{"diffs":[[0,"('http')"],[-1,""],[0,""],[1,",\r\n    port = process.env.PORT || 3000"],[0,";\r\n\r\nhtt"]],"start1":61,"start2":61,"length1":16,"length2":54},{"diffs":[[0,"res) {\r\n"],[1,"    'use strict';\r\n"],[0,"\tconsole"]],"start1":145,"start2":145,"length1":16,"length2":35},{"diffs":[[0,"l.parse("],[-1,"unescape"],[1,"decodeURI"],[0,"(url.par"]],"start1":419,"start2":419,"length1":24,"length2":25},{"diffs":[[0,"ite("],[-1,"unescape"],[1,"decodeURI"],[0,"(url"]],"start1":514,"start2":514,"length1":16,"length2":17},{"diffs":[[0,"te(e"],[-1,"scape"],[1,"ncodeURI"],[0,"(chu"]],"start1":879,"start2":879,"length1":13,"length2":16},{"diffs":[[0,"ten("],[-1,"80"],[1,"port"],[0,");\r\n"]],"start1":1078,"start2":1078,"length1":10,"length2":12},{"diffs":[[0," running"],[1," on port' + port + '"],[0,".');\r\n"]],"start1":1109,"start2":1109,"length1":14,"length2":34}]],"length":1143,"saved":false}
{"ts":1349406313644,"patch":[[{"diffs":[[0," on port"],[1," "],[0,"' + port"]],"start1":1117,"start2":1117,"length1":16,"length2":17}]],"length":1144,"saved":false}
